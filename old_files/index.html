<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="/styles/OpenSans.css" type="text/css" />
        <link rel="stylesheet" href="/styles/style.css" type="text/css" />
        <link rel="stylesheet" href="//www.mozilla.org/tabzilla/media/css/tabzilla.css" />
        <link rel="stylesheet" href="/webmaker-nav/css/webmaker-nav.css" type="text/css" />
        <title>Collusion Temp</title>
    </head>
    
    <body>
        <header>
            <a href="http://www.mozilla.org/" id="tabzilla">mozilla</a>
            <!-- Begin webmaker nav -->
            <div id="webmakerNavContainer">
                <div data-webmaker-nav-role="webmaker-info">
                    This content will appear on the right side of the content of the
                    Webmaker tab.
                </div>
                <div data-webmaker-nav-role="join-tooltip">
                    <div class="wm-unit">
                        <h3>Log in to my awesome app to do awesome stuff!</h3>
                        <div class="wm-unit-side">
                            <img src="">
                                </div>
                        <div class="wm-unit-body">
                            <p>Don't have an account yet? All you need is an email to get started. Webmaker uses <strong>Persona</strong>, which puts you in control of your identity through a single email address of your choice.</p>
                        </div>
                    </div>
                </div>
            </div>
            <!-- / webmaker nav -->
        </header>
        
        <!--
         <div style="padding: 0 0 0 550px; font-size: 12px"><input id="simulate-login-error" type="checkbox">Simulate login error</input></div>
         -->
        
        <!-- ****************************** main ****************************** -->
        <div class="main">
            <!-- =============== Visualizations =============== -->
            <div class="section-box">
                <h4>Visualizations</h4>
                <img src="images/nodes.png" style="margin: 0 70px; height: 200px">
                    </div>
            <!-- =============== Third-Party Connections =============== -->
            <div class="section-box">
                <h4>Most Active Third-Party Connections</h4>
                {{! only output this if an avatarBox exists }}
                {{#if trackers}}
                {{#avatarBox trackers}}
                <a href="{{{url}}}">
                    <div class="avatar-box">
                        <img onerror="this.src='/images/transparent_favicon_placeholder.png'" src="{{{faviconUrl}}}">
                            <b>{{infoUrl}}</b>
                            <br>
                            Websites connected: {{info_line1}}
                            </div>
                </a>
                {{/avatarBox}}
                {{/if}}
            </div>
            <!-- =============== Hello World =============== -->
            <div class="section-box">
                <h4>Hello World</h4>
            </div>
            <!-- =============== Visited Websites =============== -->
            <div class="section-box">
                <h4>Recent Visited Websites</h4>
                {{! only output this if an avatarBox exists }}
                {{#if websites}}
                {{#avatarBox websites}}
                <a href="{{{url}}}">
                    <div class="avatar-box">
                        <img onerror="this.src='/images/transparent_favicon_placeholder.png'" src="{{{faviconUrl}}}">
                            <b>{{infoUrl}}</b>
                            <br>
                            Third-party connections: {{info_line1}}
                            </div>
                </a>
                {{/avatarBox}}
                {{/if}}
            </div>
        </div>
        
        <script src="/js/require.js"></script>
        <script src="/js/jquery-1.9.1.min.js"></script>
        <script>
            require.config({
                           packages: [{
                                      name: "webmaker-nav",
                                      location: "/webmaker-nav"
                                      }]
                           });
            require([ "webmaker-nav" ], function( Webmaker ) {
                    var webmakerNav = new Webmaker({
                                                   container: document.querySelector( "#webmakerNavContainer" ),
                                                   loginBtnCallback: function() {
                                                   if ( document.querySelector( "#simulate-login-error" ).checked )
                                                   webmakerNav.showLoginError();
                                                   else
                                                   webmakerNav.views.login({username: "testuser@mozilla.org"});
                                                   },
                                                   logoutBtnCallback: function() {
                                                   webmakerNav.views.logout();
                                                   },
                                                   feedbackCallback: function() {
                                                   console.log( "do feedback stuff" );
                                                   }
                                                   });
                    });
            </script>
        <script src="//www.mozilla.org/tabzilla/media/js/tabzilla.js"></script>
        
    </body>
    
</html>

